const L={homepage:["faq-accordion","marquee-slider","process-scroll","splide-testimonies","text-animation","text-translate","faq-filters"],product:["product-scroll","faq-accordion"],articles:["other-articles"],contact:["splide-testimonies"]};function x(){$(),typeof gsap!="undefined"&&(_(),F())}function $(){const e=document.querySelector(".form_tabs-list");if(!e)return;const t=e.querySelector('input[type="radio"]');if(!t)return;t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0}));const o=t.closest(".radio_wrapper");o&&o.classList.add("is-active")}function F(){const e=document.querySelector(".faq_list");e&&(gsap.set(e,{opacity:1,y:0}),document.addEventListener("change",t=>{t.target.type==="radio"&&t.target.closest(".form_tabs-list")&&M(e)}))}function M(e){gsap.set(e,{opacity:0,y:30}),gsap.to(e,{opacity:1,y:0,duration:.4,ease:"power2.out"})}function _(){const e=document.querySelectorAll(".faq_accordion");if(!e.length)return;const t=[],o=[];e.forEach(n=>{const c=n.querySelector(".faq_question"),d=n.querySelector(".faq_answer"),r=n.querySelector(".faq_icon");!c||!d||(t.push(d),r&&o.push(r),c.setAttribute("aria-expanded","false"),d.setAttribute("aria-hidden","true"),c.addEventListener("click",()=>k(n,d,r,c)))}),gsap.set(t,{height:0,overflow:"hidden"}),gsap.set(o,{rotate:0})}function k(e,t,o,n){e.classList.contains("is-open")?(e.classList.remove("is-open"),gsap.to(t,{height:0,duration:.3}),o&&gsap.to(o,{rotate:0,duration:.3}),n.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true")):(e.classList.add("is-open"),gsap.to(t,{height:"auto",duration:.4}),o&&gsap.to(o,{rotate:-180,duration:.4}),n.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"))}function D(){if(typeof gsap=="undefined")return;const e=()=>{document.querySelectorAll(".marquee").forEach(o=>{const n=o.firstElementChild;if(!n||(n.innerHTML+=n.innerHTML,matchMedia("(prefers-reduced-motion: reduce)").matches))return;const c=gsap.to(n,{xPercent:-50,duration:+o.dataset.speed||15,ease:"none",repeat:-1,paused:!1});o.onmouseenter=()=>c.pause(),o.onmouseleave=()=>c.play()})},t=window.innerWidth<768?1e3:0;setTimeout(e,t)}function I(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_home-process"),t=e==null?void 0:e.querySelector(".home-process_component"),o=e==null?void 0:e.querySelector(".home-process_layout"),n=e==null?void 0:e.querySelector(".home-process_icon-number-list"),c=e==null?void 0:e.querySelectorAll(".home-process_content");if(!e||!o||!n||!c.length)return;let d=-1;const r=[o,n],g=Array.from(c),s=g.map(i=>({element:i,fadeIn:gsap.to(i,{opacity:1,duration:.6,ease:"power2.out",paused:!0}),fadeOut:gsap.to(i,{opacity:.3,duration:.6,ease:"power2.out",paused:!0})}));gsap.set(r,{y:0,force3D:!0}),gsap.set(g,{opacity:.3,force3D:!0}),gsap.set(g[0],{opacity:1});const a=gsap.timeline({paused:!0}).to(r,{y:-340,duration:.2,ease:"none"}).to(r,{y:-340,duration:.15,ease:"none"}).to(r,{y:-680,duration:.2,ease:"none"}).to(r,{y:-680,duration:.15,ease:"none"}).to(r,{y:-1020,duration:.2,ease:"none"}).to(r,{y:-1020,duration:.15,ease:"none"}).to(r,{y:-1360,duration:.1,ease:"none"}).to(r,{y:-1360,duration:.15,ease:"none"}),p=i=>{s.forEach(u=>{u.fadeIn.pause(),u.fadeOut.pause()}),s.forEach((u,y)=>{y===i?u.fadeIn.restart():u.fadeOut.restart()})};ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"process-scroll",animation:a,onUpdate:i=>{const u=i.progress*5|0;u!==d&&(d=u,p(u))}});let h;window.addEventListener("resize",()=>{clearTimeout(h),h=setTimeout(()=>{var i;window.innerWidth<992&&((i=ScrollTrigger.getById("process-scroll"))==null||i.kill())},250)})}function O(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".splide.testimonial-slider");e.length&&e.forEach(t=>{new window.Splide(t,{type:"loop",perPage:3,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,clones:3,cloneStatus:!1,breakpoints:{991:{perPage:2,gap:"1rem",clones:2},767:{perPage:1,gap:"0.5rem",clones:1}},speed:600,easing:"ease",autoWidth:!1,focus:"center",trimSpace:!1,drag:!0,snap:!0,ariaLabel:"Slider témoignages clients",i18n:{prev:"Témoignage précédent",next:"Témoignage suivant"}}).mount()})}function R(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelectorAll(".home-with-us_h2");e.length&&(e.forEach(t=>{gsap.set(t,{opacity:.2})}),ScrollTrigger.batch(".home-with-us_h2",{onEnter:t=>{setTimeout(()=>{t.forEach((o,n)=>{setTimeout(()=>{C(o)},n*100)})},500)},start:"top 80%",once:!0}))}function C(e){if(e.classList.contains("text-animated"))return;e.classList.add("text-animated");let t;if(typeof SplitText!="undefined")t=new SplitText(e,{type:"chars",charsClass:"letter"}).chars;else{const n=e.textContent.split("").map(c=>c===" "?'<span class="letter">&nbsp;</span>':`<span class="letter">${c}</span>`);e.innerHTML=n.join(""),t=e.querySelectorAll(".letter")}gsap.set(t,{opacity:.2}),gsap.set(e,{opacity:1}),setTimeout(()=>{ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top center",scrub:1,markers:!1,id:`text-reveal-${Date.now()}-${Math.random()}`,refreshPriority:-1,invalidateOnRefresh:!0,onUpdate:o=>{const n=o.progress,c=t.length,d=Math.floor(n*c);t.forEach((r,g)=>{gsap.to(r,{opacity:g<=d?1:.2,duration:.1,ease:"none"})})}})},200)}function W(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelector(".home-with-us_content-wrapper"),t=document.querySelector(".home-with-us_content-layout");!e||!t||(gsap.set(t,{x:0,force3D:!0}),ScrollTrigger.batch(".home-with-us_content-wrapper",{onEnter:o=>{setTimeout(()=>{o.forEach(n=>{B(n)})},500)},start:"top 80%",once:!0}))}function B(e){if(e.classList.contains("horizontal-animated"))return;e.classList.add("horizontal-animated");const t=e.querySelector(".home-with-us_content-layout");t&&setTimeout(()=>{var d;const o=e.offsetWidth,n=t.offsetWidth,c=Math.max(0,n-o);(d=ScrollTrigger.getById("horizontal-slide"))==null||d.kill(),ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top 10%",scrub:1,markers:!1,id:`horizontal-slide-${Date.now()}`,refreshPriority:-1,invalidateOnRefresh:!0,onUpdate:r=>{const s=-r.progress*c;gsap.set(t,{x:s,force3D:!0})}})},200)}function Q(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".success-stories");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider témoignages clients",i18n:{prev:"Success stories précédent",next:"Success storie suivant"}}).mount()})}function z(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_product-features"),t=e==null?void 0:e.querySelector(".product-features_component"),o=e==null?void 0:e.querySelector(".product-features_layout"),n=e==null?void 0:e.querySelector(".product-features_icon-number-list"),c=e==null?void 0:e.querySelectorAll(".product-features_content"),d=document.querySelectorAll(".product-features_button");if(!e||!o||!n||!c.length)return;let r=-1,g=!1;const s=6,a=[o,n];let p=null;gsap.set(a,{y:0,force3D:!0});const h=gsap.timeline({paused:!0}).to(a,{y:-340,duration:.15,ease:"none"}).to(a,{y:-340,duration:.1,ease:"none"}).to(a,{y:-680,duration:.15,ease:"none"}).to(a,{y:-680,duration:.1,ease:"none"}).to(a,{y:-1020,duration:.15,ease:"none"}).to(a,{y:-1020,duration:.1,ease:"none"}).to(a,{y:-1360,duration:.15,ease:"none"}).to(a,{y:-1360,duration:.1,ease:"none"}).to(a,{y:-1700,duration:.15,ease:"none"}).to(a,{y:-1700,duration:.1,ease:"none"}).to(a,{y:-2040,duration:.15,ease:"none"}),i={deployment:0,"rss-to-push":1,campaign:2,api:3,metrics:4,segmentation:5},u=[0,.175,.35,.525,.7,.875],y=l=>{l!==r&&(r=l,b(l))},b=l=>{d.forEach((f,m)=>{m===l?f.classList.add("is-active"):f.classList.remove("is-active")})},S=l=>{if(l<0||l>=s)return;g=!0;const f=u[l]||0;gsap.to(h,{progress:f,duration:.8,ease:"power2.inOut",onComplete:()=>{g=!1}}),y(l)},w=l=>{const f=i[l];if(f!==void 0){const m=e.getBoundingClientRect(),v=window.pageYOffset+m.top;window.scrollTo({top:v,behavior:"smooth"}),setTimeout(()=>{S(f)},500)}},P=()=>{const l=window.location.hash.replace("#","");i.hasOwnProperty(l)&&w(l)},E=()=>{const l=window.location.hash.replace("#","");if(i.hasOwnProperty(l)){const f=i[l];setTimeout(()=>{const m=e.getBoundingClientRect(),v=window.pageYOffset+m.top;window.scrollTo({top:v,behavior:"auto"}),setTimeout(()=>{S(f)},100)},200)}};d.forEach((l,f)=>{l.addEventListener("click",m=>{m.preventDefault(),S(f)})}),p=ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"product-features-scroll",animation:h,onUpdate:l=>{if(g)return;const f=Math.floor(l.progress*s),m=Math.min(f,s-1);m!==r&&y(m)}}),window.addEventListener("hashchange",P),document.addEventListener("click",l=>{const f=l.target.closest('a[href^="#"]');if(f){const m=f.getAttribute("href").replace("#","");i.hasOwnProperty(m)&&(l.preventDefault(),w(m),history.pushState(null,null,`#${m}`))}}),b(0),E();let T;window.addEventListener("resize",()=>{clearTimeout(T),T=setTimeout(()=>{window.innerWidth<992&&(p==null||p.kill())},250)}),window.navigateToProductFeature=w}function H(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".other-articles");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider articles",i18n:{prev:"Article précédent",next:"Article suivant"}}).mount()})}function N(){const e=document.querySelector('[us-element="filters"]'),t=document.querySelector('[us-list-element="list"]');if(!e||!t)return;const o=e.querySelectorAll("[us-list-value]"),n=t.querySelectorAll("[us-list-value]");if(!o.length||!n.length)return;const c=Array.from(o).map(s=>({element:s,value:s.getAttribute("us-list-value")||""})),d=Array.from(n).map(s=>({element:s,value:s.getAttribute("us-list-value")||""}));function r(s,a){const p=!s||s==="all";let h=0;for(let i=0;i<d.length;i++){const u=d[i],y=p||u.value===s;u.element.style.display=y?"":"none",y&&h++}for(let i=0;i<c.length;i++){const u=c[i].element,y=u===a;u.classList.toggle("is-active",y),y?(u.setAttribute("data-checked","true"),u.setAttribute("aria-pressed","true")):(u.removeAttribute("data-checked"),u.setAttribute("aria-pressed","false"))}}e.addEventListener("click",function(s){const a=s.target.closest("[us-list-value]");if(!a)return;s.preventDefault();const p=a.getAttribute("us-list-value")||"";r(p,a)}),e.addEventListener("keydown",function(s){const a=s.target.closest("[us-list-value]");if(!a)return;const p=Array.from(e.querySelectorAll("[us-list-value]")),h=p.indexOf(a);let i;switch(s.key){case"ArrowRight":case"ArrowDown":s.preventDefault(),i=(h+1)%p.length;break;case"ArrowLeft":case"ArrowUp":s.preventDefault(),i=(h-1+p.length)%p.length;break;case"Enter":case" ":s.preventDefault();const u=a.getAttribute("us-list-value")||"";r(u,a);return;default:return}i!==void 0&&p[i].focus()});const g=e.querySelector("[us-list-value].is-active")||e.querySelector("[us-list-value]");if(g){const s=g.getAttribute("us-list-value")||"";r(s,g)}}const q=window.Splide,A=()=>{},U={"faq-accordion":x,"marquee-slider":D,"process-scroll":I,"splide-testimonies":O,"text-animation":R,"text-translate":W,"splide-success":Q,"product-scroll":z,"other-articles":H,"faq-filters":N};function j(e){try{A(`📦 Chargement module: ${e}`);const t=U[e];if(!t)throw new Error(`Module ${e} non configuré`);t(),A(`✅ Module ${e} initialisé`)}catch(t){}}function G(){const e=document.body.dataset.page;if(!e)return;const t=L[e];t&&(A(`🎯 Page: ${e} | Modules: ${t.join(", ")}`),t.forEach(j))}document.addEventListener("DOMContentLoaded",G);setTimeout(()=>{typeof window.Splide=="undefined"&&q&&(window.Splide=q)},0);
