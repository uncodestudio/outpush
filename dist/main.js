const x={homepage:["faq-accordion","marquee-slider","process-scroll","splide-testimonies","text-animation","text-translate"],product:["product-scroll","faq-accordion"],articles:["other-articles"],contact:["splide-testimonies"]};function L(){M(),typeof gsap!="undefined"&&(I(),_())}function M(){const e=document.querySelector(".form_tabs-list");if(!e)return;const t=e.querySelector('input[type="radio"]');if(!t)return;t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0}));const o=t.closest(".radio_wrapper");o&&o.classList.add("is-active")}function _(){const e=document.querySelector(".faq_list");e&&(gsap.set(e,{opacity:1,y:0}),document.addEventListener("change",t=>{t.target.type==="radio"&&t.target.closest(".form_tabs-list")&&$(e)}))}function $(e){gsap.set(e,{opacity:0,y:30}),gsap.to(e,{opacity:1,y:0,duration:.4,ease:"power2.out"})}function I(){const e=document.querySelectorAll(".faq_accordion");if(!e.length)return;const t=[],o=[];e.forEach(n=>{const r=n.querySelector(".faq_question"),a=n.querySelector(".faq_answer"),s=n.querySelector(".faq_icon");!r||!a||(t.push(a),s&&o.push(s),r.setAttribute("aria-expanded","false"),a.setAttribute("aria-hidden","true"),r.addEventListener("click",()=>O(n,a,s,r)))}),gsap.set(t,{height:0,overflow:"hidden"}),gsap.set(o,{rotate:0})}function O(e,t,o,n){e.classList.contains("is-open")?(e.classList.remove("is-open"),gsap.to(t,{height:0,duration:.3}),o&&gsap.to(o,{rotate:0,duration:.3}),n.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true")):(e.classList.add("is-open"),gsap.to(t,{height:"auto",duration:.4}),o&&gsap.to(o,{rotate:-180,duration:.4}),n.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"))}function k(){if(typeof gsap=="undefined")return;const e=()=>{document.querySelectorAll(".marquee").forEach(o=>{const n=o.firstElementChild;if(!n||(n.innerHTML+=n.innerHTML,matchMedia("(prefers-reduced-motion: reduce)").matches))return;const r=gsap.to(n,{xPercent:-50,duration:+o.dataset.speed||15,ease:"none",repeat:-1,paused:!1});o.onmouseenter=()=>r.pause(),o.onmouseleave=()=>r.play()})},t=window.innerWidth<768?1e3:0;setTimeout(e,t)}function R(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_home-process"),t=e==null?void 0:e.querySelector(".home-process_component"),o=e==null?void 0:e.querySelector(".home-process_layout"),n=e==null?void 0:e.querySelector(".home-process_icon-number-list"),r=e==null?void 0:e.querySelectorAll(".home-process_content");if(!e||!o||!n||!r.length)return;let a=-1;const s=[o,n],p=Array.from(r),f=p.map(c=>({element:c,fadeIn:gsap.to(c,{opacity:1,duration:.6,ease:"power2.out",paused:!0}),fadeOut:gsap.to(c,{opacity:.3,duration:.6,ease:"power2.out",paused:!0})}));gsap.set(s,{y:0,force3D:!0}),gsap.set(p,{opacity:.3,force3D:!0}),gsap.set(p[0],{opacity:1});const l=gsap.timeline({paused:!0}).to(s,{y:-340,duration:.2,ease:"none"}).to(s,{y:-340,duration:.15,ease:"none"}).to(s,{y:-680,duration:.2,ease:"none"}).to(s,{y:-680,duration:.15,ease:"none"}).to(s,{y:-1020,duration:.2,ease:"none"}).to(s,{y:-1020,duration:.15,ease:"none"}).to(s,{y:-1360,duration:.1,ease:"none"}).to(s,{y:-1360,duration:.15,ease:"none"}),m=c=>{f.forEach(g=>{g.fadeIn.pause(),g.fadeOut.pause()}),f.forEach((g,S)=>{S===c?g.fadeIn.restart():g.fadeOut.restart()})};ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"process-scroll",animation:l,onUpdate:c=>{const g=c.progress*5|0;g!==a&&(a=g,m(g))}});let h;window.addEventListener("resize",()=>{clearTimeout(h),h=setTimeout(()=>{var c;window.innerWidth<992&&((c=ScrollTrigger.getById("process-scroll"))==null||c.kill())},250)})}function D(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".splide.testimonial-slider");e.length&&e.forEach(t=>{new window.Splide(t,{type:"loop",perPage:3,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:2,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"center",trimSpace:!1,ariaLabel:"Slider t√©moignages clients",i18n:{prev:"T√©moignage pr√©c√©dent",next:"T√©moignage suivant"}}).mount()})}function W(){typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||!document.querySelectorAll(".home-with-us_h2").length||ScrollTrigger.batch(".home-with-us_h2",{onEnter:t=>{setTimeout(()=>{t.forEach((o,n)=>{setTimeout(()=>{C(o)},n*100)})},500)},start:"top 80%",once:!0})}function C(e){if(e.classList.contains("text-animated"))return;e.classList.add("text-animated");let t;if(typeof SplitText!="undefined")t=new SplitText(e,{type:"chars",charsClass:"letter"}).chars;else{const n=e.textContent.split("").map(r=>r===" "?'<span class="letter">&nbsp;</span>':`<span class="letter">${r}</span>`);e.innerHTML=n.join(""),t=e.querySelectorAll(".letter")}gsap.set(t,{opacity:.2}),setTimeout(()=>{ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top center",scrub:1,markers:!1,id:`text-reveal-${Date.now()}-${Math.random()}`,refreshPriority:-1,invalidateOnRefresh:!0,onUpdate:o=>{const n=o.progress,r=t.length,a=Math.floor(n*r);t.forEach((s,p)=>{gsap.to(s,{opacity:p<=a?1:.2,duration:.1,ease:"none"})})}})},200)}function z(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelector(".home-with-us_content-wrapper"),t=document.querySelector(".home-with-us_content-layout");if(!e||!t)return;gsap.set(t,{x:0,force3D:!0});const o=()=>{setTimeout(()=>{var f;const a=e.offsetWidth,s=t.offsetWidth,p=Math.max(0,s-a);(f=ScrollTrigger.getById("horizontal-slide"))==null||f.kill(),ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top 10%",scrub:1,markers:!1,id:"horizontal-slide",onUpdate:l=>{const h=-l.progress*p;gsap.set(t,{x:h,force3D:!0})}})},500)},n=new IntersectionObserver(a=>{a.forEach(s=>{s.isIntersecting&&s.intersectionRatio>.1&&(o(),n.disconnect())})},{rootMargin:"200px 0px"});n.observe(e);let r;window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(()=>{o()},300)})}function F(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".success-stories");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider t√©moignages clients",i18n:{prev:"Success stories pr√©c√©dent",next:"Success storie suivant"}}).mount()})}function H(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_product-features"),t=e==null?void 0:e.querySelector(".product-features_component"),o=e==null?void 0:e.querySelector(".product-features_layout"),n=e==null?void 0:e.querySelector(".product-features_icon-number-list"),r=e==null?void 0:e.querySelectorAll(".product-features_content"),a=document.querySelectorAll(".product-features_button");if(!e||!o||!n||!r.length)return;let s=-1,p=!1;const f=6,l=[o,n];let m=null;gsap.set(l,{y:0,force3D:!0});const h=gsap.timeline({paused:!0}).to(l,{y:-340,duration:.15,ease:"none"}).to(l,{y:-340,duration:.1,ease:"none"}).to(l,{y:-680,duration:.15,ease:"none"}).to(l,{y:-680,duration:.1,ease:"none"}).to(l,{y:-1020,duration:.15,ease:"none"}).to(l,{y:-1020,duration:.1,ease:"none"}).to(l,{y:-1360,duration:.15,ease:"none"}).to(l,{y:-1360,duration:.1,ease:"none"}).to(l,{y:-1700,duration:.15,ease:"none"}).to(l,{y:-1700,duration:.1,ease:"none"}).to(l,{y:-2040,duration:.15,ease:"none"}),c={deployment:0,"rss-to-push":1,campaign:2,api:3,metrics:4,segmentation:5},g=[0,.175,.35,.525,.7,.875],S=i=>{i!==s&&(s=i,b(i))},b=i=>{a.forEach((u,d)=>{d===i?u.classList.add("is-active"):u.classList.remove("is-active")})},y=i=>{if(i<0||i>=f)return;p=!0;const u=g[i]||0;gsap.to(h,{progress:u,duration:.8,ease:"power2.inOut",onComplete:()=>{p=!1}}),S(i)},w=i=>{const u=c[i];if(u!==void 0){const d=e.getBoundingClientRect(),T=window.pageYOffset+d.top;window.scrollTo({top:T,behavior:"smooth"}),setTimeout(()=>{y(u)},500)}},P=()=>{const i=window.location.hash.replace("#","");c.hasOwnProperty(i)&&w(i)},E=()=>{const i=window.location.hash.replace("#","");if(c.hasOwnProperty(i)){const u=c[i];setTimeout(()=>{const d=e.getBoundingClientRect(),T=window.pageYOffset+d.top;window.scrollTo({top:T,behavior:"auto"}),setTimeout(()=>{y(u)},100)},200)}};a.forEach((i,u)=>{i.addEventListener("click",d=>{d.preventDefault(),y(u)})}),m=ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"product-features-scroll",animation:h,onUpdate:i=>{if(p)return;const u=Math.floor(i.progress*f),d=Math.min(u,f-1);d!==s&&S(d)}}),window.addEventListener("hashchange",P),document.addEventListener("click",i=>{const u=i.target.closest('a[href^="#"]');if(u){const d=u.getAttribute("href").replace("#","");c.hasOwnProperty(d)&&(i.preventDefault(),w(d),history.pushState(null,null,`#${d}`))}}),b(0),E();let A;window.addEventListener("resize",()=>{clearTimeout(A),A=setTimeout(()=>{window.innerWidth<992&&(m==null||m.kill())},250)}),window.navigateToProductFeature=w}function N(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".other-articles");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider articles",i18n:{prev:"Article pr√©c√©dent",next:"Article suivant"}}).mount()})}const q=window.Splide,v=()=>{},B={"faq-accordion":L,"marquee-slider":k,"process-scroll":R,"splide-testimonies":D,"text-animation":W,"text-translate":z,"splide-success":F,"product-scroll":H,"other-articles":N};function U(e){try{v(`üì¶ Chargement module: ${e}`);const t=B[e];if(!t)throw new Error(`Module ${e} non configur√©`);t(),v(`‚úÖ Module ${e} initialis√©`)}catch(t){}}function j(){const e=document.body.dataset.page;if(!e)return;const t=x[e];t&&(v(`üéØ Page: ${e} | Modules: ${t.join(", ")}`),t.forEach(U))}document.addEventListener("DOMContentLoaded",j);setTimeout(()=>{typeof window.Splide=="undefined"&&q&&(window.Splide=q)},0);
