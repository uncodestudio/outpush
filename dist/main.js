const P={homepage:["faq-accordion","marquee-slider","process-scroll","splide-testimonies","text-animation","text-translate"],product:["product-scroll","faq-accordion"],articles:["other-articles"],contact:["splide-testimonies"]};function E(){x(),typeof gsap!="undefined"&&(M(),L())}function x(){const e=document.querySelector(".form_tabs-list");if(!e)return;const t=e.querySelector('input[type="radio"]');if(!t)return;t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0}));const o=t.closest(".radio_wrapper");o&&o.classList.add("is-active")}function L(){const e=document.querySelector(".faq_list");e&&(gsap.set(e,{opacity:1,y:0}),document.addEventListener("change",t=>{t.target.type==="radio"&&t.target.closest(".form_tabs-list")&&$(e)}))}function $(e){gsap.set(e,{opacity:0,y:30}),gsap.to(e,{opacity:1,y:0,duration:.4,ease:"power2.out"})}function M(){const e=document.querySelectorAll(".faq_accordion");if(!e.length)return;const t=[],o=[];e.forEach(r=>{const a=r.querySelector(".faq_question"),i=r.querySelector(".faq_answer"),s=r.querySelector(".faq_icon");!a||!i||(t.push(i),s&&o.push(s),a.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),a.addEventListener("click",()=>_(r,i,s,a)))}),gsap.set(t,{height:0,overflow:"hidden"}),gsap.set(o,{rotate:0})}function _(e,t,o,r){e.classList.contains("is-open")?(e.classList.remove("is-open"),gsap.to(t,{height:0,duration:.3}),o&&gsap.to(o,{rotate:0,duration:.3}),r.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true")):(e.classList.add("is-open"),gsap.to(t,{height:"auto",duration:.4}),o&&gsap.to(o,{rotate:-180,duration:.4}),r.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"))}function W(){typeof gsap!="undefined"&&document.querySelectorAll(".marquee").forEach(e=>{const t=e.firstElementChild;if(!t||(t.innerHTML+=t.innerHTML,matchMedia("(prefers-reduced-motion: reduce)").matches))return;const o=gsap.to(t,{xPercent:-50,duration:+e.dataset.speed||15,ease:"none",repeat:-1,paused:!1});e.onmouseenter=()=>o.pause(),e.onmouseleave=()=>o.play()})}function I(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_home-process"),t=e==null?void 0:e.querySelector(".home-process_component"),o=e==null?void 0:e.querySelector(".home-process_layout"),r=e==null?void 0:e.querySelector(".home-process_icon-number-list"),a=e==null?void 0:e.querySelectorAll(".home-process_content");if(!e||!o||!r||!a.length)return;let i=-1;const s=[o,r],u=Array.from(a),f=u.map(d=>({element:d,fadeIn:gsap.to(d,{opacity:1,duration:.6,ease:"power2.out",paused:!0}),fadeOut:gsap.to(d,{opacity:.3,duration:.6,ease:"power2.out",paused:!0})}));gsap.set(s,{y:0,force3D:!0}),gsap.set(u,{opacity:.3,force3D:!0}),gsap.set(u[0],{opacity:1});const l=gsap.timeline({paused:!0}).to(s,{y:-340,duration:.2,ease:"none"}).to(s,{y:-340,duration:.15,ease:"none"}).to(s,{y:-680,duration:.2,ease:"none"}).to(s,{y:-680,duration:.15,ease:"none"}).to(s,{y:-1020,duration:.2,ease:"none"}).to(s,{y:-1020,duration:.15,ease:"none"}).to(s,{y:-1360,duration:.1,ease:"none"}).to(s,{y:-1360,duration:.15,ease:"none"}),h=d=>{f.forEach(g=>{g.fadeIn.pause(),g.fadeOut.pause()}),f.forEach((g,S)=>{S===d?g.fadeIn.restart():g.fadeOut.restart()})};ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"process-scroll",animation:l,onUpdate:d=>{const g=d.progress*5|0;g!==i&&(i=g,h(g))}});let m;window.addEventListener("resize",()=>{clearTimeout(m),m=setTimeout(()=>{var d;window.innerWidth<992&&((d=ScrollTrigger.getById("process-scroll"))==null||d.kill())},250)})}function R(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".splide.testimonial-slider");e.length&&e.forEach(t=>{new window.Splide(t,{type:"loop",perPage:3,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:2,gap:"1rem"},767:{perPage:1,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"center",trimSpace:!1,ariaLabel:"Slider tÃ©moignages clients",i18n:{prev:"TÃ©moignage prÃ©cÃ©dent",next:"TÃ©moignage suivant"}}).mount()})}function k(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;if(typeof SplitText=="undefined")return D();const e=document.querySelectorAll(".home-with-us_h2");e.length&&e.forEach(t=>{O(t)})}function O(e){const o=new SplitText(e,{type:"chars",charsClass:"letter"}).chars;gsap.set(o,{opacity:.2}),ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top center",scrub:1,markers:!1,id:"text-reveal",onUpdate:r=>{const a=r.progress,i=o.length,s=Math.floor(a*i);o.forEach((u,f)=>{gsap.to(u,{opacity:f<=s?1:.2,duration:.1,ease:"none"})})}})}function D(){document.querySelectorAll(".home-with-us_h2").forEach(t=>{const r=t.textContent.split("").map(i=>i===" "?'<span class="letter">&nbsp;</span>':`<span class="letter">${i}</span>`);t.innerHTML=r.join("");const a=t.querySelectorAll(".letter");gsap.set(a,{opacity:.2}),ScrollTrigger.create({trigger:t,start:"bottom bottom",end:"top center",scrub:1,markers:!1,onUpdate:i=>{const s=i.progress,u=Math.floor(s*a.length);a.forEach((f,l)=>{gsap.to(f,{opacity:l<=u?1:.2,duration:.1,ease:"none"})})}})})}function C(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelector(".home-with-us_content-wrapper"),t=document.querySelector(".home-with-us_content-layout");if(!e||!t)return;const o=e.offsetWidth,a=t.offsetWidth-o;gsap.set(t,{x:0}),ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top 10%",scrub:1,markers:!1,id:"horizontal-slide",onUpdate:i=>{const u=-i.progress*a;gsap.set(t,{x:u})}}),window.addEventListener("resize",()=>{const i=e.offsetWidth,u=t.offsetWidth-i;ScrollTrigger.refresh()})}function N(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".success-stories");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.1,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider tÃ©moignages clients",i18n:{prev:"Success stories prÃ©cÃ©dent",next:"Success storie suivant"}}).mount()})}function U(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelector(".section_product-features"),t=e==null?void 0:e.querySelector(".product-features_component"),o=e==null?void 0:e.querySelector(".product-features_layout"),r=e==null?void 0:e.querySelector(".product-features_icon-number-list"),a=e==null?void 0:e.querySelectorAll(".product-features_content"),i=document.querySelectorAll(".product-features_button");if(!e||!o||!r||!a.length)return;let s=-1,u=!1;const f=6,l=[o,r];gsap.set(l,{y:0,force3D:!0});const h=gsap.timeline({paused:!0}).to(l,{y:-340,duration:.15,ease:"none"}).to(l,{y:-340,duration:.1,ease:"none"}).to(l,{y:-680,duration:.15,ease:"none"}).to(l,{y:-680,duration:.1,ease:"none"}).to(l,{y:-1020,duration:.15,ease:"none"}).to(l,{y:-1020,duration:.1,ease:"none"}).to(l,{y:-1360,duration:.15,ease:"none"}).to(l,{y:-1360,duration:.1,ease:"none"}).to(l,{y:-1700,duration:.15,ease:"none"}).to(l,{y:-1700,duration:.1,ease:"none"}).to(l,{y:-2040,duration:.15,ease:"none"}),m={deployment:0,"rss-to-push":1,campaign:2,api:3,metrics:4,segmentation:5},d=[0,.175,.35,.525,.7,.875],g=n=>{n!==s&&(s=n,S(n))},S=n=>{i.forEach((c,p)=>{p===n?c.classList.add("is-active"):c.classList.remove("is-active")})},y=n=>{if(n<0||n>=f)return;u=!0;const c=d[n]||0;gsap.to(h,{progress:c,duration:.8,ease:"power2.inOut",onComplete:()=>{u=!1}}),g(n)},w=n=>{const c=m[n];if(c!==void 0){const p=e.getBoundingClientRect(),T=window.pageYOffset+p.top;window.scrollTo({top:T,behavior:"smooth"}),setTimeout(()=>{y(c)},500)}},b=()=>{const n=window.location.hash.replace("#","");m.hasOwnProperty(n)&&w(n)},q=()=>{const n=window.location.hash.replace("#","");if(m.hasOwnProperty(n)){const c=m[n];setTimeout(()=>{const p=e.getBoundingClientRect(),T=window.pageYOffset+p.top;window.scrollTo({top:T,behavior:"auto"}),setTimeout(()=>{y(c)},100)},200)}};i.forEach((n,c)=>{n.addEventListener("click",p=>{p.preventDefault(),y(c)})}),ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"product-features-scroll",animation:h,onUpdate:n=>{if(u)return;const c=Math.floor(n.progress*f),p=Math.min(c,f-1);p!==s&&g(p)}}),window.addEventListener("hashchange",b),document.addEventListener("click",n=>{const c=n.target.closest('a[href^="#"]');if(c){const p=c.getAttribute("href").replace("#","");m.hasOwnProperty(p)&&(n.preventDefault(),w(p),history.pushState(null,null,`#${p}`))}}),S(0),q(),window.navigateToProductFeature=w}function G(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".other-articles");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.1,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider articles",i18n:{prev:"Article prÃ©cÃ©dent",next:"Article suivant"}}).mount()})}const A=window.Splide,v=()=>{},H={"faq-accordion":E,"marquee-slider":W,"process-scroll":I,"splide-testimonies":R,"text-animation":k,"text-translate":C,"splide-success":N,"product-scroll":U,"other-articles":G};function z(e){try{v(`ðŸ“¦ Chargement module: ${e}`);const t=H[e];if(!t)throw new Error(`Module ${e} non configurÃ©`);t(),v(`âœ… Module ${e} initialisÃ©`)}catch(t){}}function B(){const e=document.body.dataset.page;if(!e)return;const t=P[e];t&&(v(`ðŸŽ¯ Page: ${e} | Modules: ${t.join(", ")}`),t.forEach(z))}document.addEventListener("DOMContentLoaded",B);setTimeout(()=>{typeof window.Splide=="undefined"&&A&&(window.Splide=A)},0);
