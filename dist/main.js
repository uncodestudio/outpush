var q=(e,t,o)=>new Promise((n,s)=>{var a=u=>{try{p(o.next(u))}catch(d){s(d)}},r=u=>{try{p(o.throw(u))}catch(d){s(d)}},p=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,r);p((o=o.apply(e,t)).next())});const $={homepage:["faq-accordion","marquee-slider","process-scroll","splide-testimonies","text-animation","text-translate","faq-filters"],product:["product-scroll","faq-accordion"],articles:["other-articles"],contact:["splide-testimonies"]};function F(){if(!(typeof window.gsap!="undefined"))return;const t=document.querySelectorAll(".faq_accordion");if(!t.length)return;const o=[],n=[];t.forEach(s=>{const a=s.querySelector(".faq_question"),r=s.querySelector(".faq_answer"),p=s.querySelector(".faq_icon");!a||!r||(o.push(r),p&&n.push(p),a.setAttribute("aria-expanded","false"),r.setAttribute("aria-hidden","true"),a.setAttribute("tabindex","0"),a.addEventListener("click",()=>P(s,r,p,a)),a.addEventListener("keydown",u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),P(s,r,p,a))}))}),gsap.set(o,{height:0,overflow:"hidden"}),gsap.set(n,{rotate:0})}function P(e,t,o,n){e.classList.contains("is-open")?(e.classList.remove("is-open"),gsap.to(t,{height:0,duration:.3,ease:"power2.inOut"}),o&&gsap.to(o,{rotate:0,duration:.3,ease:"power2.inOut"}),n.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true")):(M(e),e.classList.add("is-open"),gsap.to(t,{height:"auto",duration:.4,ease:"power2.out"}),o&&gsap.to(o,{rotate:-180,duration:.4,ease:"power2.out"}),n.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"))}function M(e){document.querySelectorAll(".faq_accordion.is-open").forEach(o=>{if(o===e)return;const n=o.querySelector(".faq_question"),s=o.querySelector(".faq_answer"),a=o.querySelector(".faq_icon");!n||!s||(o.classList.remove("is-open"),gsap.to(s,{height:0,duration:.3,ease:"power2.inOut"}),a&&gsap.to(a,{rotate:0,duration:.3,ease:"power2.inOut"}),n.setAttribute("aria-expanded","false"),s.setAttribute("aria-hidden","true"))})}function _(){if(typeof gsap=="undefined")return;const e=()=>{document.querySelectorAll(".marquee").forEach(o=>{const n=o.firstElementChild;if(!n||(n.innerHTML+=n.innerHTML,matchMedia("(prefers-reduced-motion: reduce)").matches))return;const s=gsap.to(n,{xPercent:-50,duration:+o.dataset.speed||15,ease:"none",repeat:-1,paused:!1});o.onmouseenter=()=>s.pause(),o.onmouseleave=()=>s.play()})},t=window.innerWidth<768?1e3:0;setTimeout(e,t)}function k(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_home-process"),t=e==null?void 0:e.querySelector(".home-process_component"),o=e==null?void 0:e.querySelector(".home-process_layout"),n=e==null?void 0:e.querySelector(".home-process_icon-number-list"),s=e==null?void 0:e.querySelectorAll(".home-process_content");if(!e||!o||!n||!s.length)return;let a=-1;const r=[o,n],p=Array.from(s),u=p.map(l=>({element:l,fadeIn:gsap.to(l,{opacity:1,duration:.6,ease:"power2.out",paused:!0}),fadeOut:gsap.to(l,{opacity:.3,duration:.6,ease:"power2.out",paused:!0})}));gsap.set(r,{y:0,force3D:!0}),gsap.set(p,{opacity:.3,force3D:!0}),gsap.set(p[0],{opacity:1});const d=gsap.timeline({paused:!0}).to(r,{y:-340,duration:.2,ease:"none"}).to(r,{y:-340,duration:.15,ease:"none"}).to(r,{y:-680,duration:.2,ease:"none"}).to(r,{y:-680,duration:.15,ease:"none"}).to(r,{y:-1020,duration:.2,ease:"none"}).to(r,{y:-1020,duration:.15,ease:"none"}).to(r,{y:-1360,duration:.1,ease:"none"}).to(r,{y:-1360,duration:.15,ease:"none"}),i=l=>{u.forEach(g=>{g.fadeIn.pause(),g.fadeOut.pause()}),u.forEach((g,w)=>{w===l?g.fadeIn.restart():g.fadeOut.restart()})};ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"process-scroll",animation:d,onUpdate:l=>{const g=l.progress*5|0;g!==a&&(a=g,i(g))}});let f;window.addEventListener("resize",()=>{clearTimeout(f),f=setTimeout(()=>{var l;window.innerWidth<992&&((l=ScrollTrigger.getById("process-scroll"))==null||l.kill())},250)})}function D(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".splide.testimonial-slider");e.length&&e.forEach(t=>{new window.Splide(t,{type:"loop",perPage:3,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,clones:3,cloneStatus:!1,breakpoints:{991:{perPage:2,gap:"1rem",clones:2},767:{perPage:1,gap:"0.5rem",clones:1}},speed:600,easing:"ease",autoWidth:!1,focus:"center",trimSpace:!1,drag:!0,snap:!0,ariaLabel:"Slider témoignages clients",i18n:{prev:"Témoignage précédent",next:"Témoignage suivant"}}).mount()})}function O(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelectorAll(".home-with-us_h2");e.length&&(e.forEach(t=>{gsap.set(t,{opacity:.2})}),ScrollTrigger.batch(".home-with-us_h2",{onEnter:t=>{setTimeout(()=>{t.forEach((o,n)=>{setTimeout(()=>{I(o)},n*100)})},500)},start:"top 80%",once:!0}))}function I(e){if(e.classList.contains("text-animated"))return;e.classList.add("text-animated");let t;if(typeof SplitText!="undefined")t=new SplitText(e,{type:"chars",charsClass:"letter"}).chars;else{const n=e.textContent.split("").map(s=>s===" "?'<span class="letter">&nbsp;</span>':`<span class="letter">${s}</span>`);e.innerHTML=n.join(""),t=e.querySelectorAll(".letter")}gsap.set(t,{opacity:.2}),gsap.set(e,{opacity:1}),setTimeout(()=>{ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top center",scrub:1,markers:!1,id:`text-reveal-${Date.now()}-${Math.random()}`,refreshPriority:-1,invalidateOnRefresh:!0,onUpdate:o=>{const n=o.progress,s=t.length,a=Math.floor(n*s);t.forEach((r,p)=>{gsap.to(r,{opacity:p<=a?1:.2,duration:.1,ease:"none"})})}})},200)}function C(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelector(".home-with-us_content-wrapper"),t=document.querySelector(".home-with-us_content-layout");!e||!t||(gsap.set(t,{x:0,force3D:!0}),ScrollTrigger.batch(".home-with-us_content-wrapper",{onEnter:o=>{setTimeout(()=>{o.forEach(n=>{R(n)})},500)},start:"top 80%",once:!0}))}function R(e){if(e.classList.contains("horizontal-animated"))return;e.classList.add("horizontal-animated");const t=e.querySelector(".home-with-us_content-layout");t&&setTimeout(()=>{var a;const o=e.offsetWidth,n=t.offsetWidth,s=Math.max(0,n-o);(a=ScrollTrigger.getById("horizontal-slide"))==null||a.kill(),ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top 10%",scrub:1,markers:!1,id:`horizontal-slide-${Date.now()}`,refreshPriority:-1,invalidateOnRefresh:!0,onUpdate:r=>{const u=-r.progress*s;gsap.set(t,{x:u,force3D:!0})}})},200)}function Q(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".success-stories");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider témoignages clients",i18n:{prev:"Success stories précédent",next:"Success storie suivant"}}).mount()})}function W(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_product-features"),t=e==null?void 0:e.querySelector(".product-features_component"),o=e==null?void 0:e.querySelector(".product-features_layout"),n=e==null?void 0:e.querySelector(".product-features_icon-number-list"),s=e==null?void 0:e.querySelectorAll(".product-features_content"),a=document.querySelectorAll(".product-features_button");if(!e||!o||!n||!s.length)return;let r=-1,p=!1;const u=6,d=[o,n];let i=null;gsap.set(d,{y:0,force3D:!0});const f=gsap.timeline({paused:!0}).to(d,{y:-340,duration:.15,ease:"none"}).to(d,{y:-340,duration:.1,ease:"none"}).to(d,{y:-680,duration:.15,ease:"none"}).to(d,{y:-680,duration:.1,ease:"none"}).to(d,{y:-1020,duration:.15,ease:"none"}).to(d,{y:-1020,duration:.1,ease:"none"}).to(d,{y:-1360,duration:.15,ease:"none"}).to(d,{y:-1360,duration:.1,ease:"none"}).to(d,{y:-1700,duration:.15,ease:"none"}).to(d,{y:-1700,duration:.1,ease:"none"}).to(d,{y:-2040,duration:.15,ease:"none"}),l={deployment:0,"rss-to-push":1,campaign:2,api:3,metrics:4,segmentation:5},g=[0,.175,.35,.525,.7,.875],w=c=>{c!==r&&(r=c,S(c))},S=c=>{a.forEach((m,h)=>{h===c?m.classList.add("is-active"):m.classList.remove("is-active")})},y=c=>{if(c<0||c>=u)return;p=!0;const m=g[c]||0;gsap.to(f,{progress:m,duration:.8,ease:"power2.inOut",onComplete:()=>{p=!1}}),w(c)},A=c=>{const m=l[c];if(m!==void 0){const h=e.getBoundingClientRect(),v=window.pageYOffset+h.top;window.scrollTo({top:v,behavior:"smooth"}),setTimeout(()=>{y(m)},500)}},L=()=>{const c=window.location.hash.replace("#","");l.hasOwnProperty(c)&&A(c)},x=()=>{const c=window.location.hash.replace("#","");if(l.hasOwnProperty(c)){const m=l[c];setTimeout(()=>{const h=e.getBoundingClientRect(),v=window.pageYOffset+h.top;window.scrollTo({top:v,behavior:"auto"}),setTimeout(()=>{y(m)},100)},200)}};a.forEach((c,m)=>{c.addEventListener("click",h=>{h.preventDefault(),y(m)})}),i=ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"product-features-scroll",animation:f,onUpdate:c=>{if(p)return;const m=Math.floor(c.progress*u),h=Math.min(m,u-1);h!==r&&w(h)}}),window.addEventListener("hashchange",L),document.addEventListener("click",c=>{const m=c.target.closest('a[href^="#"]');if(m){const h=m.getAttribute("href").replace("#","");l.hasOwnProperty(h)&&(c.preventDefault(),A(h),history.pushState(null,null,`#${h}`))}}),S(0),x();let b;window.addEventListener("resize",()=>{clearTimeout(b),b=setTimeout(()=>{window.innerWidth<992&&(i==null||i.kill())},250)}),window.navigateToProductFeature=A}function B(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".other-articles");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider articles",i18n:{prev:"Article précédent",next:"Article suivant"}}).mount()})}function z(){const e=document.querySelector('[us-element="filters"]'),t=document.querySelector('[us-list-element="list"]');if(!e||!t)return;const o=e.querySelectorAll("[us-list-value]"),n=t.querySelectorAll("[us-list-value]");if(!o.length||!n.length)return;const s=typeof window.gsap!="undefined";s&&gsap.set(t,{opacity:1,y:0});const a=Array.from(o).map(i=>({element:i,value:i.getAttribute("us-list-value")||""})),r=Array.from(n).map(i=>({element:i,value:i.getAttribute("us-list-value")||""}));function p(){return s?new Promise(i=>{gsap.set(t,{opacity:0,y:30}),gsap.to(t,{opacity:1,y:0,duration:.4,ease:"power2.out",onComplete:i})}):Promise.resolve()}function u(i,f,l=!0){return q(this,null,function*(){const g=!i||i==="all";l&&s&&(yield p());let w=0;for(let S=0;S<r.length;S++){const y=r[S],A=g||y.value===i;y.element.style.display=A?"":"none",A&&w++}for(let S=0;S<a.length;S++){const y=a[S].element,A=y===f;y.classList.toggle("is-active",A),A?(y.setAttribute("data-checked","true"),y.setAttribute("aria-pressed","true")):(y.removeAttribute("data-checked"),y.setAttribute("aria-pressed","false"))}})}e.addEventListener("click",function(i){const f=i.target.closest("[us-list-value]");if(!f)return;i.preventDefault();const l=f.getAttribute("us-list-value")||"";u(l,f,!0)}),e.addEventListener("keydown",function(i){const f=i.target.closest("[us-list-value]");if(!f)return;const l=Array.from(e.querySelectorAll("[us-list-value]")),g=l.indexOf(f);let w;switch(i.key){case"ArrowRight":case"ArrowDown":i.preventDefault(),w=(g+1)%l.length;break;case"ArrowLeft":case"ArrowUp":i.preventDefault(),w=(g-1+l.length)%l.length;break;case"Enter":case" ":i.preventDefault();const S=f.getAttribute("us-list-value")||"";u(S,f,!0);return;default:return}w!==void 0&&l[w].focus()});const d=e.querySelector("[us-list-value].is-active")||e.querySelector("[us-list-value]");if(d){const i=d.getAttribute("us-list-value")||"";u(i,d,!1)}}const E=window.Splide,T=()=>{},G={"faq-accordion":F,"marquee-slider":_,"process-scroll":k,"splide-testimonies":D,"text-animation":O,"text-translate":C,"splide-success":Q,"product-scroll":W,"other-articles":B,"faq-filters":z};function H(e){try{T(`📦 Chargement module: ${e}`);const t=G[e];if(!t)throw new Error(`Module ${e} non configuré`);t(),T(`✅ Module ${e} initialisé`)}catch(t){}}function N(){const e=document.body.dataset.page;if(!e)return;const t=$[e];t&&(T(`🎯 Page: ${e} | Modules: ${t.join(", ")}`),t.forEach(H))}document.addEventListener("DOMContentLoaded",N);setTimeout(()=>{typeof window.Splide=="undefined"&&E&&(window.Splide=E)},0);
