var q=(e,t,n)=>new Promise((s,i)=>{var c=l=>{try{u(n.next(l))}catch(o){i(o)}},r=l=>{try{u(n.throw(l))}catch(o){i(o)}},u=l=>l.done?s(l.value):Promise.resolve(l.value).then(c,r);u((n=n.apply(e,t)).next())});const $={homepage:["faq-accordion","marquee-slider","process-scroll","splide-testimonies","text-animation","text-translate","faq-filters"],product:["product-scroll","faq-accordion","faq-filters"],articles:["other-articles"],contact:["splide-testimonies"],"success-stories":["splide-success"]};function F(){if(!(typeof window.gsap!="undefined"))return;const t=document.querySelectorAll(".faq_accordion");if(!t.length)return;const n=[],s=[];t.forEach(i=>{const c=i.querySelector(".faq_question"),r=i.querySelector(".faq_answer"),u=i.querySelector(".faq_icon");!c||!r||(n.push(r),u&&s.push(u),c.setAttribute("aria-expanded","false"),r.setAttribute("aria-hidden","true"),c.setAttribute("tabindex","0"),c.addEventListener("click",()=>P(i,r,u,c)),c.addEventListener("keydown",l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),P(i,r,u,c))}))}),gsap.set(n,{height:0,overflow:"hidden"}),gsap.set(s,{rotate:0})}function P(e,t,n,s){e.classList.contains("is-open")?(e.classList.remove("is-open"),gsap.to(t,{height:0,duration:.3,ease:"power2.inOut"}),n&&gsap.to(n,{rotate:0,duration:.3,ease:"power2.inOut"}),s.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true")):(e.classList.add("is-open"),gsap.to(t,{height:"auto",duration:.4,ease:"power2.out"}),n&&gsap.to(n,{rotate:-180,duration:.4,ease:"power2.out"}),s.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"))}function M(){if(typeof gsap=="undefined")return;const e=()=>{document.querySelectorAll(".marquee").forEach(n=>{const s=n.firstElementChild;if(!s||(s.innerHTML+=s.innerHTML,matchMedia("(prefers-reduced-motion: reduce)").matches))return;const i=gsap.to(s,{xPercent:-50,duration:+n.dataset.speed||15,ease:"none",repeat:-1,paused:!1});n.onmouseenter=()=>i.pause(),n.onmouseleave=()=>i.play()})},t=window.innerWidth<768?1e3:0;setTimeout(e,t)}function k(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_home-process"),t=e==null?void 0:e.querySelector(".home-process_component"),n=e==null?void 0:e.querySelector(".home-process_layout"),s=e==null?void 0:e.querySelector(".home-process_icon-number-list"),i=e==null?void 0:e.querySelectorAll(".home-process_content");if(!e||!n||!s||!i.length)return;let c=-1;const r=[n,s],u=Array.from(i),l=u.map(d=>({element:d,fadeIn:gsap.to(d,{opacity:1,duration:.6,ease:"power2.out",paused:!0}),fadeOut:gsap.to(d,{opacity:.3,duration:.6,ease:"power2.out",paused:!0})}));gsap.set(r,{y:0,force3D:!0}),gsap.set(u,{opacity:.3,force3D:!0}),gsap.set(u[0],{opacity:1});const o=gsap.timeline({paused:!0}).to(r,{y:-340,duration:.2,ease:"none"}).to(r,{y:-340,duration:.15,ease:"none"}).to(r,{y:-680,duration:.2,ease:"none"}).to(r,{y:-680,duration:.15,ease:"none"}).to(r,{y:-1020,duration:.2,ease:"none"}).to(r,{y:-1020,duration:.15,ease:"none"}).to(r,{y:-1360,duration:.1,ease:"none"}).to(r,{y:-1360,duration:.15,ease:"none"}),f=d=>{l.forEach(p=>{p.fadeIn.pause(),p.fadeOut.pause()}),l.forEach((p,m)=>{m===d?p.fadeIn.restart():p.fadeOut.restart()})};ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"process-scroll",animation:o,onUpdate:d=>{const p=d.progress*5|0;p!==c&&(c=p,f(p))}});let g;window.addEventListener("resize",()=>{clearTimeout(g),g=setTimeout(()=>{var d;window.innerWidth<992&&((d=ScrollTrigger.getById("process-scroll"))==null||d.kill())},250)})}function D(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".splide.testimonial-slider");e.length&&e.forEach(t=>{new window.Splide(t,{type:"loop",perPage:3,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,clones:3,cloneStatus:!1,breakpoints:{991:{perPage:2,gap:"1rem",clones:2},767:{perPage:1,gap:"0.5rem",clones:1}},speed:600,easing:"ease",autoWidth:!1,focus:"center",trimSpace:!1,drag:!0,snap:!0,ariaLabel:"Slider t√©moignages clients",i18n:{prev:"T√©moignage pr√©c√©dent",next:"T√©moignage suivant"}}).mount()})}function I(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelectorAll(".home-with-us_h2");e.length&&(e.forEach(t=>{gsap.set(t,{opacity:.2})}),ScrollTrigger.batch(".home-with-us_h2",{onEnter:t=>{setTimeout(()=>{t.forEach((n,s)=>{setTimeout(()=>{_(n)},s*100)})},500)},start:"top 80%",once:!0}))}function _(e){if(e.classList.contains("text-animated"))return;e.classList.add("text-animated");let t;if(typeof SplitText!="undefined")t=new SplitText(e,{type:"chars",charsClass:"letter"}).chars;else{const s=e.textContent.split("").map(i=>i===" "?'<span class="letter">&nbsp;</span>':`<span class="letter">${i}</span>`);e.innerHTML=s.join(""),t=e.querySelectorAll(".letter")}gsap.set(t,{opacity:.2}),gsap.set(e,{opacity:1}),setTimeout(()=>{ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top center",scrub:1,markers:!1,id:`text-reveal-${Date.now()}-${Math.random()}`,refreshPriority:-1,invalidateOnRefresh:!0,onUpdate:n=>{const s=n.progress,i=t.length,c=Math.floor(s*i);t.forEach((r,u)=>{gsap.to(r,{opacity:u<=c?1:.2,duration:.1,ease:"none"})})}})},200)}function O(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined")return;const e=document.querySelector(".home-with-us_content-wrapper"),t=document.querySelector(".home-with-us_content-layout");!e||!t||(gsap.set(t,{x:0,force3D:!0}),ScrollTrigger.batch(".home-with-us_content-wrapper",{onEnter:n=>{setTimeout(()=>{n.forEach(s=>{C(s)})},500)},start:"top 80%",once:!0}))}function C(e){if(e.classList.contains("horizontal-animated"))return;e.classList.add("horizontal-animated");const t=e.querySelector(".home-with-us_content-layout");t&&setTimeout(()=>{var c;const n=e.offsetWidth,s=t.offsetWidth,i=Math.max(0,s-n);(c=ScrollTrigger.getById("horizontal-slide"))==null||c.kill(),ScrollTrigger.create({trigger:e,start:"bottom bottom",end:"top 10%",scrub:1,markers:!1,id:`horizontal-slide-${Date.now()}`,refreshPriority:-1,invalidateOnRefresh:!0,onUpdate:r=>{const l=-r.progress*i;gsap.set(t,{x:l,force3D:!0})}})},200)}function R(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".success-stories");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider t√©moignages clients",i18n:{prev:"Success stories pr√©c√©dent",next:"Success storie suivant"}}).mount()})}function Q(){if(typeof gsap=="undefined"||typeof ScrollTrigger=="undefined"||window.innerWidth<992)return;const e=document.querySelector(".section_product-features"),t=e==null?void 0:e.querySelector(".product-features_component"),n=e==null?void 0:e.querySelector(".product-features_layout"),s=e==null?void 0:e.querySelector(".product-features_icon-number-list"),i=e==null?void 0:e.querySelectorAll(".product-features_content"),c=document.querySelectorAll(".product-features_button");if(!e||!n||!s||!i.length)return;let r=-1,u=!1;const l=6,o=[n,s];let f=null;gsap.set(o,{y:0,force3D:!0});const g=gsap.timeline({paused:!0}).to(o,{y:-340,duration:.15,ease:"none"}).to(o,{y:-340,duration:.1,ease:"none"}).to(o,{y:-680,duration:.15,ease:"none"}).to(o,{y:-680,duration:.1,ease:"none"}).to(o,{y:-1020,duration:.15,ease:"none"}).to(o,{y:-1020,duration:.1,ease:"none"}).to(o,{y:-1360,duration:.15,ease:"none"}).to(o,{y:-1360,duration:.1,ease:"none"}).to(o,{y:-1700,duration:.15,ease:"none"}).to(o,{y:-1700,duration:.1,ease:"none"}).to(o,{y:-2040,duration:.15,ease:"none"}),d={deployment:0,"rss-to-push":1,campaign:2,api:3,metrics:4,segmentation:5},p=[0,.175,.35,.525,.7,.875],m=a=>{a!==r&&(r=a,S(a))},S=a=>{c.forEach((h,y)=>{y===a?h.classList.add("is-active"):h.classList.remove("is-active")})},w=a=>{if(a<0||a>=l)return;u=!0;const h=p[a]||0;gsap.to(g,{progress:h,duration:.8,ease:"power2.inOut",onComplete:()=>{u=!1}}),m(a)},v=a=>{const h=d[a];if(h!==void 0){const y=e.getBoundingClientRect(),A=window.pageYOffset+y.top;window.scrollTo({top:A,behavior:"smooth"}),setTimeout(()=>{w(h)},500)}},L=()=>{const a=window.location.hash.replace("#","");d.hasOwnProperty(a)&&v(a)},x=()=>{const a=window.location.hash.replace("#","");if(d.hasOwnProperty(a)){const h=d[a];setTimeout(()=>{const y=e.getBoundingClientRect(),A=window.pageYOffset+y.top;window.scrollTo({top:A,behavior:"auto"}),setTimeout(()=>{w(h)},100)},200)}};c.forEach((a,h)=>{a.addEventListener("click",y=>{y.preventDefault(),w(h)})}),f=ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",scrub:1,pin:t,markers:!1,id:"product-features-scroll",animation:g,onUpdate:a=>{if(u)return;const h=Math.floor(a.progress*l),y=Math.min(h,l-1);y!==r&&m(y)}}),window.addEventListener("hashchange",L),document.addEventListener("click",a=>{const h=a.target.closest('a[href^="#"]');if(h){const y=h.getAttribute("href").replace("#","");d.hasOwnProperty(y)&&(a.preventDefault(),v(y),history.pushState(null,null,`#${y}`))}}),S(0),x();let b;window.addEventListener("resize",()=>{clearTimeout(b),b=setTimeout(()=>{window.innerWidth<992&&(f==null||f.kill())},250)}),window.navigateToProductFeature=v}function W(){if(typeof window.Splide=="undefined")return;const e=document.querySelectorAll(".other-articles");e.length&&e.forEach(t=>{new window.Splide(t,{type:"slide",perPage:1.5,perMove:1,gap:"1.5rem",arrows:!0,pagination:!1,breakpoints:{991:{perPage:1.25,gap:"1rem"},767:{perPage:1.2,gap:"0.5rem"}},speed:600,easing:"ease",autoWidth:!1,focus:"left",trimSpace:!0,ariaLabel:"Slider articles",i18n:{prev:"Article pr√©c√©dent",next:"Article suivant"}}).mount()})}function B(){const e=document.querySelector('[us-element="filters"]'),t=document.querySelector('[us-list-element="list"]');if(!e||!t)return;const n=e.querySelectorAll("[us-list-value]"),s=t.querySelectorAll("[us-list-value]");if(!n.length||!s.length)return;const i=typeof window.gsap!="undefined";i&&gsap.set(t,{opacity:1,y:0});const c=Array.from(n).map(o=>({element:o,value:o.getAttribute("us-list-value")||""})),r=Array.from(s).map(o=>({element:o,value:o.getAttribute("us-list-value")||""}));function u(o,f,g=!0){return q(this,null,function*(){const d=!o||o==="all";g&&i&&(yield new Promise(m=>{gsap.to(t,{opacity:0,y:-20,duration:.2,ease:"power2.in",onComplete:m})}));let p=0;for(let m=0;m<r.length;m++){const S=r[m],w=d||S.value===o;S.element.style.display=w?"":"none",w&&p++}for(let m=0;m<c.length;m++){const S=c[m].element,w=S===f;S.classList.toggle("is-active",w),w?(S.setAttribute("data-checked","true"),S.setAttribute("aria-pressed","true")):(S.removeAttribute("data-checked"),S.setAttribute("aria-pressed","false"))}g&&i&&gsap.fromTo(t,{opacity:0,y:30},{opacity:1,y:0,duration:.4,ease:"power2.out"})})}e.addEventListener("click",function(o){const f=o.target.closest("[us-list-value]");if(!f)return;o.preventDefault();const g=f.getAttribute("us-list-value")||"";u(g,f,!0)}),e.addEventListener("keydown",function(o){const f=o.target.closest("[us-list-value]");if(!f)return;const g=Array.from(e.querySelectorAll("[us-list-value]")),d=g.indexOf(f);let p;switch(o.key){case"ArrowRight":case"ArrowDown":o.preventDefault(),p=(d+1)%g.length;break;case"ArrowLeft":case"ArrowUp":o.preventDefault(),p=(d-1+g.length)%g.length;break;case"Enter":case" ":o.preventDefault();const m=f.getAttribute("us-list-value")||"";u(m,f,!0);return;default:return}p!==void 0&&g[p].focus()});const l=e.querySelector("[us-list-value].is-active")||e.querySelector("[us-list-value]");if(l){const o=l.getAttribute("us-list-value")||"";u(o,l,!1)}}const E=window.Splide,T=()=>{},z={"faq-accordion":F,"marquee-slider":M,"process-scroll":k,"splide-testimonies":D,"text-animation":I,"text-translate":O,"splide-success":R,"product-scroll":Q,"other-articles":W,"faq-filters":B};function G(e){try{T(`üì¶ Chargement module: ${e}`);const t=z[e];if(!t)throw new Error(`Module ${e} non configur√©`);t(),T(`‚úÖ Module ${e} initialis√©`)}catch(t){}}function H(){const e=document.body.dataset.page;if(!e)return;const t=$[e];t&&(T(`üéØ Page: ${e} | Modules: ${t.join(", ")}`),t.forEach(G))}document.addEventListener("DOMContentLoaded",H);setTimeout(()=>{typeof window.Splide=="undefined"&&E&&(window.Splide=E)},0);
